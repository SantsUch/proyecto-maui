<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:BomberosApp.MVVM.ViewModels"
             x:Class="BomberosApp.MVVM.Views.ReportarIncidenteView"
             Title="Reportar Incidente"
             BackgroundColor="#F5F5F5">
    <!-- Fondo claro -->


    <ScrollView>
        <VerticalStackLayout Padding="25" Spacing="20">
            <Frame Padding="15"
                   BackgroundColor="#E6ECF5"
                   BorderColor="#1649A1"
                   CornerRadius="12"
                   HasShadow="True"
                   Margin="0,0,0,10">
                <Label Text="Por favor, ingrese los datos referentes al incidente."
                       FontSize="20"
                       TextColor="#1649A1"
                       HorizontalTextAlignment="Center"/>
            </Frame>

            <Label Text="Título"
                   FontSize="16"
                   TextColor="#1649A1"/>
            <Entry Placeholder="Descripción"
                   Text="{Binding IncidenteTO.Titulo}"
                   BackgroundColor="White"
                   TextColor="Black"
                   HeightRequest="45"
                   FontSize="14"
                   Margin="0,0,0,10"/>

            <Label Text="Descripción"
                   FontSize="16"
                   TextColor="#1649A1"/>
            <Editor Placeholder="Ingrese los detalles del incidente"
                    AutoSize="TextChanges"
                    HeightRequest="120"
                    FontSize="14"
                    BackgroundColor="White"
                    TextColor="Black"
                    Text="{Binding IncidenteTO.Descripcion}"
                    Margin="0,0,0,10" />

            <Label Text="Ubicación del incidente"
                   FontSize="16"
                   TextColor="#1649A1"/>
            <Entry Placeholder="Ej: Calle Central, San José"
                   Text="{Binding IncidenteTO.Ubicacion}"
                   BackgroundColor="White"
                   TextColor="Black"
                   HeightRequest="45"
                   FontSize="14"
                   Margin="0,0,0,10"/>

            <!-- 
            <Label Text="Categoría"
                   FontSize="16"
                   TextColor="#1649A1"/>
            <Picker Title="Seleccione una categoría"
                    ItemsSource="{Binding Categorias}"
                    SelectedItem="{Binding Incidente.Categoria}"
                    FontSize="14"
                    BackgroundColor="White"
                    Margin="0,0,0,10" />

            <Label Text="Prioridad"
                   FontSize="16"
                   TextColor="#1649A1"/>
            <Picker Title="Seleccione la prioridad"
                    ItemsSource="{Binding Prioridades}"
                    SelectedItem="{Binding Incidente.Priority}"
                    FontSize="14"
                    BackgroundColor="White"
                    Margin="0,0,0,10" />
            
            -->

            <Button Text="Adjuntar Imagen"
                    Command="{Binding PickImageCommand}"
                    BackgroundColor="#FFD700"
                    TextColor="Black"
                    FontAttributes="Bold"
                    HeightRequest="45"/>

            <!-- Imagen previa -->
            <Frame HasShadow="True"
                   BorderColor="#CCCCCC"
                   CornerRadius="10"
                   Padding="5"
                   Margin="0,10">
                <Image Source="{Binding IncidenteTO.ImagePath}"
                       HeightRequest="150"
                       Aspect="AspectFill"/>
            </Frame>

            <Button Text="Confirmar Datos"
                    Command="{Binding ReportarCommand}"
                    BackgroundColor="#1649A1"
                    TextColor="White"
                    FontAttributes="Bold"
                    FontSize="18"
                    CornerRadius="12"
                    HeightRequest="50"/>

            <Button Text="Cancelar"
                    Command="{Binding CancelarCommand}"
                    BackgroundColor="#E31E24"
                    TextColor="White"
                    FontAttributes="Bold"
                    FontSize="18"
                    CornerRadius="12"
                    HeightRequest="50"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>